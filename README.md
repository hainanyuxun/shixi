# å®¢æˆ·æµå¤±é¢„æµ‹é¡¹ç›® (Customer Churn Prediction)

## é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªåŸºäºInvestCloudå¹³å°çš„å®¢æˆ·æµå¤±é¢„æµ‹é¡¹ç›®ï¼Œé€šè¿‡åˆ†æç”¨æˆ·è¡Œä¸ºã€äº¤æ˜“æ¨¡å¼ã€èµ„äº§ä»·å€¼å˜åŒ–ç­‰å¤šç»´åº¦æ•°æ®ï¼Œé¢„æµ‹å®¢æˆ·æµå¤±é£é™©ã€‚

## æ ¸å¿ƒç‰¹æ€§

### ğŸ¯ é¢„æµ‹ç›®æ ‡
- **ç”¨æˆ·çº§åˆ«é¢„æµ‹**: åŸºäºUSERS.STATUSå­—æ®µçš„ç”¨æˆ·æµå¤±é¢„æµ‹
- **è´¦æˆ·çº§åˆ«é¢„æµ‹**: åŸºäºè´¦æˆ·å…³é—­æ—¥æœŸçš„è¾…åŠ©é¢„æµ‹
- **å¤šå±‚æ¬¡é£é™©è¯„ä¼°**: ç»¼åˆç”¨æˆ·è¡Œä¸ºå’ŒæŠ•èµ„è¡¨ç°çš„é£é™©è¯„åˆ†

### ğŸ“Š æ•°æ®æº
- **USERSè¡¨**: ç”¨æˆ·åŸºç¡€ä¿¡æ¯å’ŒçŠ¶æ€
- **beamaccountè¡¨**: è´¦æˆ·ä¿¡æ¯å’Œç”Ÿå‘½å‘¨æœŸ
- **IDRTRANSACTIONè¡¨**: äº¤æ˜“è¡Œä¸ºæ•°æ®
- **PROFITANDLOSSLITEè¡¨**: èµ„äº§ä»·å€¼å’ŒæŸç›Šæ•°æ®

### ğŸ”§ æŠ€æœ¯æ ˆ
- **Python 3.8+**: ä¸»è¦å¼€å‘è¯­è¨€
- **Pandas**: æ•°æ®å¤„ç†å’Œåˆ†æ
- **Scikit-learn**: æœºå™¨å­¦ä¹ å»ºæ¨¡
- **XGBoost/LightGBM**: é«˜çº§æ¢¯åº¦æå‡ç®—æ³•
- **Matplotlib/Seaborn**: æ•°æ®å¯è§†åŒ–
- **Oracle Database**: æ•°æ®å­˜å‚¨

## é¡¹ç›®ç»“æ„

```
customer_churn_prediction/
â”œâ”€â”€ README.md                           # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ requirements.txt                    # Pythonä¾èµ–åŒ…
â”œâ”€â”€ .gitignore                         # Gitå¿½ç•¥æ–‡ä»¶é…ç½®
â”‚
â”œâ”€â”€ docs/                              # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ Customer_Churn_Prediction_Tables_Analysis.md
â”‚   â”œâ”€â”€ Feature_Analysis_Oracle_Database.md
â”‚   â”œâ”€â”€ Oracle_Database_Analysis.md
â”‚   â””â”€â”€ SQL_Data_Export_Guide.md
â”‚
â”œâ”€â”€ src/                               # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ baseline_model_development.py  # åŸºçº¿æ¨¡å‹å¼€å‘
â”‚   â”œâ”€â”€ tier1_feature_engineering.py   # ç‰¹å¾å·¥ç¨‹
â”‚   â”œâ”€â”€ user_level_eda.py             # ç”¨æˆ·çº§åˆ«æ¢ç´¢æ€§åˆ†æ
â”‚   â”œâ”€â”€ data_architecture_validation.py # æ•°æ®æ¶æ„éªŒè¯
â”‚   â””â”€â”€ Churn_model_sample.py         # æ¨¡å‹ç¤ºä¾‹
â”‚
â”œâ”€â”€ models/                           # è®­ç»ƒå¥½çš„æ¨¡å‹
â”‚   â”œâ”€â”€ best_model_logistic_regression.joblib
â”‚   â””â”€â”€ feature_scaler.joblib
â”‚
â”œâ”€â”€ data/                            # æ•°æ®ç›®å½• (ä¸åŒ…å«åœ¨ç‰ˆæœ¬æ§åˆ¶ä¸­)
â”‚   â””â”€â”€ processed/
â”‚       â””â”€â”€ tier1_features.csv
â”‚
â””â”€â”€ outputs/                         # è¾“å‡ºç»“æœ
    â”œâ”€â”€ account_status_distribution.png
    â”œâ”€â”€ baseline_model_performance.png
    â”œâ”€â”€ transaction_patterns.png
    â””â”€â”€ user_value_segmentation.png
```

## å®‰è£…å’Œè®¾ç½®

### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/your-username/customer_churn_prediction.git
cd customer_churn_prediction
```

### 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
```bash
python -m venv venv
source venv/bin/activate  # Linux/Mac
# æˆ–
venv\Scripts\activate     # Windows
```

### 3. å®‰è£…ä¾èµ–
```bash
pip install -r requirements.txt
```

### 4. æ•°æ®åº“é…ç½®
- é…ç½®Oracleæ•°æ®åº“è¿æ¥
- ç¡®ä¿æœ‰ç›¸å…³è¡¨çš„è®¿é—®æƒé™
- å‚è€ƒ `SQL_Data_Export_Guide.md` è¿›è¡Œæ•°æ®å¯¼å‡º

## ä½¿ç”¨æ–¹æ³•

### æ•°æ®æºé…ç½®

é¡¹ç›®æ”¯æŒä¸¤ç§æ•°æ®æºï¼š

#### ğŸ”· æ–¹å¼1: Oracleæ•°æ®åº“ï¼ˆæ¨èç”¨äºç”Ÿäº§ç¯å¢ƒï¼‰
1. **å®‰è£…Oracle Instant Client**
   - ä¸‹è½½å¹¶è§£å‹Oracle Instant Clientåˆ° `C:\oracle\instantclient_21_18`
   - æˆ–ä¿®æ”¹ `src/oracle_data_extractor.py` ä¸­çš„è·¯å¾„é…ç½®

2. **é…ç½®æ•°æ®åº“è¿æ¥**
   ```python
   # åœ¨ oracle_data_extractor.py ä¸­é…ç½®
   username = "BGRO_citangk"
   password = "Cici0511"
   dsn = "UAT7ora:1521/ORAUAT7PRIV"
   ```

3. **è¿è¡Œæ•°æ®æå–**
   ```bash
   cd src
   python oracle_data_extractor.py
   ```

#### ğŸ”· æ–¹å¼2: æ ·æœ¬CSVæ–‡ä»¶ï¼ˆç”¨äºæµ‹è¯•å’Œå¼€å‘ï¼‰
ä½¿ç”¨é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„æ ·æœ¬æ•°æ®æ–‡ä»¶è¿›è¡Œæµ‹è¯•ã€‚

### æ ¸å¿ƒæµç¨‹

#### 1. æ•°æ®é¢„å¤„ç†å’Œç‰¹å¾å·¥ç¨‹
```bash
cd src
# äº¤äº’å¼é€‰æ‹©æ•°æ®æº
python run_feature_engineering.py

# æˆ–ç›´æ¥æŒ‡å®šæ•°æ®æº
python tier1_feature_engineering.py  # ä½¿ç”¨æ ·æœ¬æ•°æ®
```

#### 2. æ¢ç´¢æ€§æ•°æ®åˆ†æ
```bash
cd src
python user_level_eda.py
```

#### 3. æ¨¡å‹è®­ç»ƒ
```bash
cd src
python baseline_model_development.py
```

#### 4. æ•°æ®æ¶æ„éªŒè¯
```bash
cd src
python data_architecture_validation.py
```

## æ ¸å¿ƒåŠŸèƒ½

### ğŸ” ç‰¹å¾å·¥ç¨‹
- **ç”¨æˆ·å‚ä¸åº¦è¯„åˆ†**: åŸºäºè”ç³»ä¿¡æ¯å®Œæ•´åº¦ã€å®‰å…¨è®¾ç½®ç­‰
- **äº¤æ˜“è¡Œä¸ºåˆ†æ**: é¢‘ç‡è¡°é€€ã€é‡‘é¢æ³¢åŠ¨ã€æ—¶é—´æ¨¡å¼
- **æŠ•èµ„è¡¨ç°æŒ‡æ ‡**: æ”¶ç›Šç‡ã€é£é™©è°ƒæ•´æ”¶ç›Šã€æœ€å¤§å›æ’¤
- **èµ„äº§ä»·å€¼è¶‹åŠ¿**: å¸‚å€¼å˜åŒ–ã€æœªå®ç°æŸç›Šã€æŠ•èµ„ç»„åˆç¨³å®šæ€§

### ğŸ“ˆ æ¨¡å‹ç®—æ³•
- **é€»è¾‘å›å½’**: åŸºçº¿æ¨¡å‹ï¼Œæä¾›è‰¯å¥½çš„å¯è§£é‡Šæ€§
- **éšæœºæ£®æ—**: å¤„ç†éçº¿æ€§å…³ç³»å’Œç‰¹å¾äº¤äº’
- **XGBoost**: é«˜æ€§èƒ½æ¢¯åº¦æå‡ç®—æ³•
- **LightGBM**: å¿«é€Ÿè®­ç»ƒçš„æ¢¯åº¦æå‡æ¡†æ¶

### ğŸ“Š è¯„ä¼°æŒ‡æ ‡
- **å‡†ç¡®ç‡ (Accuracy)**: æ•´ä½“é¢„æµ‹æ­£ç¡®ç‡
- **ç²¾ç¡®ç‡ (Precision)**: æµå¤±é¢„æµ‹çš„å‡†ç¡®æ€§
- **å¬å›ç‡ (Recall)**: æµå¤±å®¢æˆ·çš„è¯†åˆ«ç‡
- **F1-Score**: ç²¾ç¡®ç‡å’Œå¬å›ç‡çš„è°ƒå’Œå¹³å‡
- **AUC-ROC**: æ¨¡å‹åŒºåˆ†èƒ½åŠ›è¯„ä¼°

## ä¸šåŠ¡ä»·å€¼

### ğŸ’¼ åº”ç”¨åœºæ™¯
1. **å®¢æˆ·ä¿ç•™ç­–ç•¥**: è¯†åˆ«é«˜é£é™©å®¢æˆ·ï¼Œåˆ¶å®šä¸ªæ€§åŒ–ä¿ç•™æ–¹æ¡ˆ
2. **èµ„æºä¼˜åŒ–é…ç½®**: å°†æœ‰é™çš„å®¢æˆ·æœåŠ¡èµ„æºæŠ•å…¥åˆ°å…³é”®å®¢æˆ·
3. **äº§å“æ”¹è¿›æŒ‡å¯¼**: åŸºäºæµå¤±åŸå› åˆ†ææ”¹è¿›äº§å“å’ŒæœåŠ¡
4. **æ”¶å…¥é¢„æµ‹**: é¢„æµ‹å®¢æˆ·æµå¤±å¯¹æ”¶å…¥çš„å½±å“

### ğŸ“‹ è¾“å‡ºç»“æœ
- **å®¢æˆ·é£é™©è¯„åˆ†**: 0-1ä¹‹é—´çš„æµå¤±æ¦‚ç‡è¯„åˆ†
- **é£é™©å› ç´ åˆ†æ**: ä¸»è¦å½±å“æµå¤±çš„ç‰¹å¾å› ç´ 
- **å®¢æˆ·åˆ†å±‚**: åŸºäºé£é™©è¯„åˆ†çš„å®¢æˆ·åˆ†å±‚ç®¡ç†
- **é¢„è­¦æŠ¥å‘Š**: å®šæœŸçš„é«˜é£é™©å®¢æˆ·é¢„è­¦åˆ—è¡¨

## è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## è”ç³»ä¿¡æ¯

- é¡¹ç›®ç»´æŠ¤è€…: [Your Name]
- é‚®ç®±: [your.email@example.com]
- é¡¹ç›®é“¾æ¥: [https://github.com/your-username/customer_churn_prediction](https://github.com/your-username/customer_churn_prediction)

## æ›´æ–°æ—¥å¿—

### v1.0.0 (2024-12-19)
- åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- å®ŒæˆåŸºç¡€ç‰¹å¾å·¥ç¨‹å’Œæ¨¡å‹å¼€å‘
- å®ç°ç”¨æˆ·çº§åˆ«æµå¤±é¢„æµ‹
- æ·»åŠ æ•°æ®æ¶æ„éªŒè¯åŠŸèƒ½

---

**æ³¨æ„**: æœ¬é¡¹ç›®åŒ…å«æ•æ„Ÿçš„å®¢æˆ·æ•°æ®ï¼Œè¯·ç¡®ä¿åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­éµå®ˆç›¸å…³çš„æ•°æ®ä¿æŠ¤æ³•è§„å’Œå…¬å¸æ”¿ç­–ã€‚ 